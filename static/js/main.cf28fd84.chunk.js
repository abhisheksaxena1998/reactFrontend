(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var s=n(3),i=n(1),a=n.n(i),c=n(9),r=n.n(c),o=(n(52),n(38)),l=n(39),d=n(46),u=n(45),m=(n(53),n(16),n(17),n(18),function(e){return Object(s.jsx)("nav",{className:"heavy-rain-gradient navbar navbar-light bg-light",children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"navbar-brand",children:[Object(s.jsx)("img",{alt:"",src:"https://raw.githubusercontent.com/abhisheksaxena1998/reactToDoApplication/main/src/og-image.png",height:"60",loading:"lazy"}),Object(s.jsxs)("strong",{children:["  ","Movie Ticketing System"," "]}),Object(s.jsx)("span",{className:"badge badge-pill badge-secondary",children:e.totalTasks})]})})})}),h=function(e){return Object(s.jsx)("nav",{className:"heavy-rain-gradient navbar navbar-light bg-light",children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"navbar-brand",children:[Object(s.jsx)("img",{alt:"",src:"https://raw.githubusercontent.com/abhisheksaxena1998/reactToDoApplication/main/src/og-image.png",height:"60",loading:"lazy"}),Object(s.jsxs)("strong",{children:["  ","Movie Ticketing System"," "]}),Object(s.jsx)("div",{className:"spinner-grow text-secondary",role:"status"})]})})})},j=n(4),b=n(19),p=n.n(b),g=(n(78),n(8)),x=n.n(g),O=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={currentItem:{unique_id:"",index:"",name:"",time:"",phonenumber:""},tempId:"",info:{unique_id:"",index:"",name:"",time:"",phonenumber:"",created_at:"",result:""},ticketID:"",previousTime:"",updatedTime:"",records:[],gotinfo:!1,startDate:"",isLoading:!1},e.handleChangePrev=function(t){e.setState({previousTime:t})},e.handleChangeUpdated=function(t){e.setState({updatedTime:t})},e.handleChange=function(t){e.setState({currentItem:{unique_id:e.state.currentItem.unique_id,name:e.state.currentItem.name,phonenumber:e.state.currentItem.phonenumber,time:t}})},e.handleReset=function(){console.log("reset clicked"),console.log(e.state)},e.handleView=function(){if(""!==e.state.ticketID){var t="https://zomsystem.herokuapp.com/ticketinfo?query="+e.state.ticketID;console.log("handle view invoked",e.state.ticketID,t),fetch(t).then((function(e){return e.json()})).then((function(t){e.setState({info:t,gotinfo:!0}),e.setState({info:{unique_id:t.unique_id,name:t.name,phonenumber:t.phone_number,time:t.time,created_at:t.created_at,result:t.result,index:t.index}}),console.log(e.state.info)})),x()("Loaded !","Loaded Successfully !","success")}else x()("Invalid !","Enter the feilds and submit to view user details !","info")},e.handleViewReset=function(){e.setState({gotinfo:!1}),x()("Done !","Reset Done !","warning")},e.handleDelete=function(){if(console.log("delete clicked",e.state.tempId),""!==e.state.tempId){var t="https://zomsystem.herokuapp.com/deleteticket?query="+e.state.tempId;x()("Deleted !","Deleted Successfully !","error"),fetch(t),e.componentDidMount()}else x()("Enter unique id !","Enter unique id !","warning")},e.handleUpdateTime=function(){var t=new Date(e.state.updatedTime).getTime(),n="https://zomsystem.herokuapp.com/updatetime?oldtime="+new Date(e.state.previousTime).getTime()+"&newtime="+t;""!==e.state.previousTime&&""!==e.state.updatedTime?(x()("Updated !","Updation done successfully !","success"),fetch(n),e.componentDidMount()):x()("Invalid !","Please input all entries  !","warning")},e.handleSubmit=function(){console.log("submit clicked"),console.log(e.state),console.log("Info is ",e.state.startDate),e.setState({currentItem:{unique_id:e.state.currentItem.unique_id,name:e.state.currentItem.name,phonenumber:e.state.currentItem.phonenumber,time:e.state.currentItem.time}});var t=new Date(e.state.currentItem.time).getTime();console.log(t);var n="https://zomsystem.herokuapp.com/addRecord?uniqueid="+e.state.currentItem.unique_id+"&nm="+e.state.currentItem.name+"&phonenumber="+e.state.currentItem.phonenumber+"&time="+t;console.log(n),""!==e.state.currentItem.unique_id&&""!==e.state.currentItem.name&&""!==e.state.currentItem.phonenumber&&""!==e.state.currentItem.time?(x()("Added !","Booked successfully !","success"),fetch(n),e.componentDidMount()):x()("Invalid !","Please input all entries  !","warning")},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});fetch("https://zomsystem.herokuapp.com/showallrecords").then((function(e){return e.json()})).then((function(t){e.setState({records:t,isLoading:!1}),console.log(e.state)}))}},{key:"render",value:function(){var e=this,t={columns:[{label:"Unique Id",field:"unique_id",width:50},{label:"Index",field:"index",width:50},{label:"Name",field:"name",width:50},{label:"Result",field:"result",width:50},{label:"Time",field:"time",width:50},{label:"Phone Number",field:"phone_number",width:50},{label:"Created At",field:"created_at",width:50}],rows:this.state.records},n=(this.state.info,this.state);n.records;return n.isLoading?Object(s.jsxs)("div",{children:[Object(s.jsx)(h,{}),Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsx)("div",{className:"spinner-grow text-info",role:"status",children:Object(s.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(s.jsx)("code",{children:"Fetching data from backend ..."}),Object(s.jsx)("div",{className:"spinner-border text-info",role:"status",children:Object(s.jsx)("span",{className:"sr-only",children:"Loading..."})})]})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)(m,{totalTasks:this.state.records.length}),Object(s.jsxs)(j.j,{children:[Object(s.jsxs)(j.p,{children:[Object(s.jsx)(j.i,{md:"6",className:"new-card",children:Object(s.jsxs)("form",{children:[Object(s.jsx)("p",{className:"h5 text-center mb-4",children:"Book Ticket"}),Object(s.jsxs)("div",{className:"grey-text",children:[Object(s.jsx)(j.m,{label:"Name",icon:"address-book",group:!0,type:"text",validate:!0,error:"wrong",required:!0,success:"right",value:this.state.currentItem.name,placeholder:"Enter Name",onChange:function(t){e.setState({currentItem:{unique_id:e.state.currentItem.unique_id,name:t.target.value,phonenumber:e.state.currentItem.phonenumber,time:e.state.currentItem.time}}),console.log(e.state)}}),Object(s.jsx)(j.m,{label:"Phone number ",icon:"phone",group:!0,type:"phone",value:this.state.currentItem.phonenumber,placeholder:"Enter phone",onChange:function(t){e.setState({currentItem:{name:e.state.currentItem.name,unique_id:e.state.currentItem.unique_id,phonenumber:t.target.value,time:e.state.currentItem.time}}),console.log(e.state)}}),Object(s.jsx)(j.m,{label:"Seat no.",icon:"envelope",group:!0,type:"text",validate:!0,error:"wrong",success:"right",value:this.state.currentItem.unique_id,placeholder:"Enter unique id ",onChange:function(t){e.setState({currentItem:{unique_id:t.target.value,name:e.state.currentItem.name,phonenumber:e.state.currentItem.phonenumber,time:e.state.currentItem.time}}),console.log(e.state)}}),Object(s.jsx)(p.a,{value:this.state.currentItem.time,onChange:this.handleChange,timeFormat:!0,closeOnSelect:!0,inputProps:{placeholder:"\u23f2 Select timings of show"}}),"Selected timings :"," ",this.state.currentItem.time?this.state.currentItem.time.toString():"No selected date",console.log("tien is",this.state.currentItem.time)]}),Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)(j.c,{onClick:this.handleSubmit,children:"Submit"})})]})}),Object(s.jsxs)(j.i,{md:"6",className:"new-card",children:[Object(s.jsxs)("form",{children:[Object(s.jsx)("p",{className:"h5 text-center mb-4",children:"Delete Ticket"}),Object(s.jsx)("div",{className:"grey-text",children:Object(s.jsx)(j.m,{label:"Unique Id",icon:"id-card-alt",group:!0,type:"text",validate:!0,error:"wrong",required:!0,success:"right",value:this.state.tempId,placeholder:"Enter Unique Id ",onChange:function(t){e.setState({tempId:t.target.value}),console.log(e.state)}})}),Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)(j.c,{color:"danger",onClick:this.handleDelete,children:"Delete"})})]}),Object(s.jsx)(j.p,{children:Object(s.jsx)(j.i,{children:Object(s.jsxs)("form",{children:[Object(s.jsx)("p",{className:"h5 text-center mb-4",children:"Update Ticket Timings"}),Object(s.jsxs)("div",{className:"grey-text",children:[Object(s.jsx)(p.a,{value:this.state.previousTime,onChange:this.handleChangePrev,timeFormat:!0,closeOnSelect:!0,inputProps:{placeholder:"\ud83d\udd58 Select previous time"}}),"Previous Time :"," ",this.state.previousTime?this.state.previousTime.toString():"No selected date",console.log("previous time is",this.state.previousTime)]}),Object(s.jsxs)("div",{className:"grey-text",children:[Object(s.jsx)(p.a,{value:this.state.updatedTime,onChange:this.handleChangeUpdated,timeFormat:!0,closeOnSelect:!0,inputProps:{placeholder:"\ud83d\udd62 Select updated time"}}),"Updated Time :"," ",this.state.updatedTime?this.state.updatedTime.toString():"No selected date",console.log("updated time is",this.state.updatedTime)]}),Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)(j.c,{color:"primary",onClick:this.handleUpdateTime,children:"Update"})})]})})})]})]}),Object(s.jsx)(j.p,{children:Object(s.jsx)(j.i,{children:Object(s.jsxs)("form",{children:[Object(s.jsx)("p",{className:"h5 text-center mb-4",children:"View the user\u2019s details based on the ticket id"}),Object(s.jsx)("div",{className:"grey-text",children:Object(s.jsx)(j.m,{label:"Ticket Id",icon:"id-card-alt",group:!0,type:"text",validate:!0,error:"wrong",required:!0,success:"right",value:this.state.ticketID,placeholder:"Enter Ticket ID ",onChange:function(t){e.setState({ticketID:t.target.value}),console.log(e.state)}})}),Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)(j.c,{color:"success",onClick:this.handleView,children:"Fetch Details"}),Object(s.jsx)(j.c,{color:"warning",onClick:this.handleViewReset,children:"Reset Details"})]}),(console.log(e.state.info),!0===e.state.gotinfo?Object(s.jsx)(j.i,{children:Object(s.jsxs)(j.d,{className:"text-center",children:[Object(s.jsx)(j.f,{className:"img-fluid",src:"",waves:!0}),Object(s.jsxs)(j.e,{cascade:!0,className:"text-center",children:[Object(s.jsx)(j.h,{children:"Detailed user information"}),Object(s.jsx)(j.g,{children:"View user details here"}),Object(s.jsx)(j.g,{children:"Index is: "}),e.state.info.index,Object(s.jsx)(j.g,{children:"Username is: "}),e.state.info.name,Object(s.jsx)(j.g,{children:"Unique ID is: "}),e.state.info.unique_id,Object(s.jsx)(j.g,{children:"Time is: "}),new Date(parseInt(e.state.info.time)).toString(),Object(s.jsx)(j.g,{children:"Booked at: "}),e.state.info.created_at,Object(s.jsx)(j.g,{children:"Result is: "}),e.state.info.result,Object(s.jsx)(j.g,{children:"Phone Number is: "}),e.state.info.phonenumber]})]})}):Object(s.jsx)(j.j,{children:Object(s.jsxs)(j.b,{className:"text-center",color:"warning",dismiss:!0,children:[Object(s.jsx)("strong",{children:"Submit userid to view details!"})," You should enter the feilds and submit to view user details."]})}))]})})}),Object(s.jsx)(j.p,{children:Object(s.jsx)(j.i,{children:Object(s.jsx)(j.k,{className:"tablee",striped:!0,bordered:!0,small:!0,data:t})})})]})]})}}]),n}(a.a.Component),f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),s(e),i(e),a(e),c(e)}))};r.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(O,{})}),document.getElementById("root")),f()}},[[81,1,2]]]);
//# sourceMappingURL=main.cf28fd84.chunk.js.map