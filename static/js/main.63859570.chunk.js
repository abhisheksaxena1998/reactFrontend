(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(3),s=n(1),r=n.n(s),c=n(8),i=n.n(c),o=(n(52),n(37)),l=n(38),d=n(46),u=n(45),m=(n(53),n(16),n(17),n(18),function(e){return Object(a.jsx)("nav",{className:"heavy-rain-gradient navbar navbar-light bg-light",children:Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"navbar-brand",children:[Object(a.jsx)("img",{alt:"",src:"https://raw.githubusercontent.com/abhisheksaxena1998/reactToDoApplication/main/src/og-image.png",height:"60",loading:"lazy"}),Object(a.jsxs)("strong",{children:["  ","Movie Ticketing System"," "]}),Object(a.jsx)("span",{className:"badge badge-pill badge-secondary",children:e.totalTasks})]})})})}),h=function(e){return Object(a.jsx)("nav",{className:"heavy-rain-gradient navbar navbar-light bg-light",children:Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"navbar-brand",children:[Object(a.jsx)("img",{alt:"",src:"https://raw.githubusercontent.com/abhisheksaxena1998/reactToDoApplication/main/src/og-image.png",height:"60",loading:"lazy"}),Object(a.jsxs)("strong",{children:["  ","Movie Ticketing System"," "]}),Object(a.jsx)("div",{className:"spinner-grow text-secondary",role:"status"})]})})})},b=n(6),j=n(44),g=n.n(j),p=(n(78),n(15)),x=n.n(p),v=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={currentItem:{unique_id:"",index:"",name:"",time:"",phonenumber:""},tempId:"",records:[],startDate:"",isLoading:!1},e.handleChange=function(t){e.setState({currentItem:{unique_id:e.state.currentItem.unique_id,name:e.state.currentItem.name,phonenumber:e.state.currentItem.phonenumber,time:t}})},e.handleReset=function(){console.log("reset clicked"),console.log(e.state)},e.handleDelete=function(){if(console.log("delete clicked",e.state.tempId),""!==e.state.tempId){var t="https://zomsystem.herokuapp.com/deleteticket?query="+e.state.tempId;x()("Deleted !","Deleted Successfully !","error"),fetch(t),e.componentDidMount()}else x()("Enter unique id !","Enter unique id !","warning")},e.handleSubmit=function(){console.log("submit clicked"),console.log(e.state),console.log("Info is ",e.state.startDate),e.setState({currentItem:{unique_id:e.state.currentItem.unique_id,name:e.state.currentItem.name,phonenumber:e.state.currentItem.phonenumber,time:e.state.currentItem.time}});var t=new Date(e.state.currentItem.time).getTime();console.log(t);var n="https://zomsystem.herokuapp.com/addRecord?uniqueid="+e.state.currentItem.unique_id+"&nm="+e.state.currentItem.name+"&phonenumber="+e.state.currentItem.phonenumber+"&time="+t;console.log(n),""!==e.state.currentItem.unique_id&&""!==e.state.currentItem.name&&""!==e.state.currentItem.phonenumber&&""!==e.state.currentItem.time?(x()("Added !","Booked successfully !","success"),fetch(n),e.componentDidMount()):x()("Invalid !","Please input all entries  !","warning")},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});fetch("https://zomsystem.herokuapp.com/showallrecords").then((function(e){return e.json()})).then((function(t){e.setState({records:t,isLoading:!1}),console.log(e.state)}))}},{key:"render",value:function(){var e=this,t={columns:[{label:"Unique Id",field:"unique_id",width:80},{label:"Index",field:"index",width:70},{label:"Name",field:"name",width:100},{label:"Result",field:"result",width:150},{label:"Time",field:"time",width:200},{label:"Phone Number",field:"phone number",width:200},{label:"Created At",field:"created_at",width:200}],rows:this.state.records},n=this.state;n.records;return n.isLoading?Object(a.jsxs)("div",{children:[Object(a.jsx)(h,{}),Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)("div",{className:"spinner-grow text-info",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(a.jsx)("code",{children:"Fetching data from backend ..."}),Object(a.jsx)("div",{className:"spinner-border text-info",role:"status",children:Object(a.jsx)("span",{className:"sr-only",children:"Loading..."})})]})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(m,{totalTasks:this.state.records.length}),Object(a.jsxs)(b.d,{children:[Object(a.jsxs)(b.j,{children:[Object(a.jsx)(b.c,{md:"6",className:"new-card",children:Object(a.jsxs)("form",{children:[Object(a.jsx)("p",{className:"h5 text-center mb-4",children:"Book Ticket"}),Object(a.jsxs)("div",{className:"grey-text",children:[Object(a.jsx)(b.g,{label:"Name",icon:"address-book",group:!0,type:"text",validate:!0,error:"wrong",required:!0,success:"right",value:this.state.currentItem.name,placeholder:"Enter Name",onChange:function(t){e.setState({currentItem:{unique_id:e.state.currentItem.unique_id,name:t.target.value,phonenumber:e.state.currentItem.phonenumber,time:e.state.currentItem.time}}),console.log(e.state)}}),Object(a.jsx)(b.g,{label:"Phone number ",icon:"phone",group:!0,type:"phone",value:this.state.currentItem.phonenumber,placeholder:"Enter phone",onChange:function(t){e.setState({currentItem:{name:e.state.currentItem.name,unique_id:e.state.currentItem.unique_id,phonenumber:t.target.value,time:e.state.currentItem.time}}),console.log(e.state)}}),Object(a.jsx)(b.g,{label:"Seat no.",icon:"envelope",group:!0,type:"text",validate:!0,error:"wrong",success:"right",value:this.state.currentItem.unique_id,placeholder:"Enter unique id ",onChange:function(t){e.setState({currentItem:{unique_id:t.target.value,name:e.state.currentItem.name,phonenumber:e.state.currentItem.phonenumber,time:e.state.currentItem.time}}),console.log(e.state)}}),Object(a.jsx)(g.a,{value:this.state.currentItem.time,onChange:this.handleChange,timeFormat:!0,closeOnSelect:!0,inputProps:{placeholder:"Select timings of show"}}),"Selected timings :"," ",this.state.currentItem.time?this.state.currentItem.time.toString():"No selected date",console.log("tien is",this.state.currentItem.time)]}),Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)(b.b,{onClick:this.handleSubmit,children:"Submit"})})]})}),Object(a.jsx)(b.c,{md:"6",className:"new-card",children:Object(a.jsxs)("form",{children:[Object(a.jsx)("p",{className:"h5 text-center mb-4",children:"Delete Ticket"}),Object(a.jsx)("div",{className:"grey-text",children:Object(a.jsx)(b.g,{label:"Unique Id",icon:"id-card-alt",group:!0,type:"text",validate:!0,error:"wrong",required:!0,success:"right",value:this.state.tempId,placeholder:"Enter Unique Id ",onChange:function(t){e.setState({tempId:t.target.value}),console.log(e.state)}})}),Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)(b.b,{color:"danger",onClick:this.handleDelete,children:"Delete"})})]})})]}),Object(a.jsx)(b.j,{children:Object(a.jsx)(b.c,{children:Object(a.jsx)(b.e,{className:"tablee",striped:!0,bordered:!0,small:!0,data:t})})})]})]})}}]),n}(r.a.Component),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root")),I()}},[[81,1,2]]]);
//# sourceMappingURL=main.63859570.chunk.js.map