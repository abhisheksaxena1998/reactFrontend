(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var s=n(3),a=n(1),i=n.n(a),r=n(8),c=n.n(r),l=(n(52),n(38)),o=n(39),d=n(46),m=n(45),u=(n(53),n(16),n(17),n(18),function(e){return Object(s.jsx)("nav",{className:"heavy-rain-gradient navbar navbar-light bg-light",children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"navbar-brand",children:[Object(s.jsx)("img",{alt:"",src:"https://raw.githubusercontent.com/abhisheksaxena1998/reactToDoApplication/main/src/og-image.png",height:"60",loading:"lazy"}),Object(s.jsxs)("strong",{children:["  ","Movie Ticketing System"," "]}),Object(s.jsx)("span",{className:"badge badge-pill badge-secondary",children:e.totalTasks})]})})})}),h=function(e){return Object(s.jsx)("nav",{className:"heavy-rain-gradient navbar navbar-light bg-light",children:Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"navbar-brand",children:[Object(s.jsx)("img",{alt:"",src:"https://raw.githubusercontent.com/abhisheksaxena1998/reactToDoApplication/main/src/og-image.png",height:"60",loading:"lazy"}),Object(s.jsxs)("strong",{children:["  ","Movie Ticketing System"," "]}),Object(s.jsx)("div",{className:"spinner-grow text-secondary",role:"status"})]})})})},p=n(6),b=n(19),j=n.n(b),g=(n(78),n(10)),x=n.n(g),v=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={currentItem:{unique_id:"",index:"",name:"",time:"",phonenumber:""},tempId:"",previousTime:"",updatedTime:"",records:[],startDate:"",isLoading:!1},e.handleChangePrev=function(t){e.setState({previousTime:t})},e.handleChangeUpdated=function(t){e.setState({updatedTime:t})},e.handleChange=function(t){e.setState({currentItem:{unique_id:e.state.currentItem.unique_id,name:e.state.currentItem.name,phonenumber:e.state.currentItem.phonenumber,time:t}})},e.handleReset=function(){console.log("reset clicked"),console.log(e.state)},e.handleDelete=function(){if(console.log("delete clicked",e.state.tempId),""!==e.state.tempId){var t="https://zomsystem.herokuapp.com/deleteticket?query="+e.state.tempId;x()("Deleted !","Deleted Successfully !","error"),fetch(t),e.componentDidMount()}else x()("Enter unique id !","Enter unique id !","warning")},e.handleUpdateTime=function(){var t=new Date(e.state.updatedTime).getTime(),n="https://zomsystem.herokuapp.com/updatetime?oldtime="+new Date(e.state.previousTime).getTime()+"&newtime="+t;""!==e.state.previousTime&&""!==e.state.updatedTime?(x()("Updated !","Updation done successfully !","success"),fetch(n),e.componentDidMount()):x()("Invalid !","Please input all entries  !","warning")},e.handleSubmit=function(){console.log("submit clicked"),console.log(e.state),console.log("Info is ",e.state.startDate),e.setState({currentItem:{unique_id:e.state.currentItem.unique_id,name:e.state.currentItem.name,phonenumber:e.state.currentItem.phonenumber,time:e.state.currentItem.time}});var t=new Date(e.state.currentItem.time).getTime();console.log(t);var n="https://zomsystem.herokuapp.com/addRecord?uniqueid="+e.state.currentItem.unique_id+"&nm="+e.state.currentItem.name+"&phonenumber="+e.state.currentItem.phonenumber+"&time="+t;console.log(n),""!==e.state.currentItem.unique_id&&""!==e.state.currentItem.name&&""!==e.state.currentItem.phonenumber&&""!==e.state.currentItem.time?(x()("Added !","Booked successfully !","success"),fetch(n),e.componentDidMount()):x()("Invalid !","Please input all entries  !","warning")},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});fetch("https://zomsystem.herokuapp.com/showallrecords").then((function(e){return e.json()})).then((function(t){e.setState({records:t,isLoading:!1}),console.log(e.state)}))}},{key:"render",value:function(){var e=this,t={columns:[{label:"Unique Id",field:"unique_id",width:80},{label:"Index",field:"index",width:70},{label:"Name",field:"name",width:100},{label:"Result",field:"result",width:150},{label:"Time",field:"time",width:200},{label:"Phone Number",field:"phone number",width:200},{label:"Created At",field:"created_at",width:200}],rows:this.state.records},n=this.state;n.records;return n.isLoading?Object(s.jsxs)("div",{children:[Object(s.jsx)(h,{}),Object(s.jsxs)("header",{className:"App-header",children:[Object(s.jsx)("div",{className:"spinner-grow text-info",role:"status",children:Object(s.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(s.jsx)("code",{children:"Fetching data from backend ..."}),Object(s.jsx)("div",{className:"spinner-border text-info",role:"status",children:Object(s.jsx)("span",{className:"sr-only",children:"Loading..."})})]})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)(u,{totalTasks:this.state.records.length}),Object(s.jsxs)(p.d,{children:[Object(s.jsxs)(p.j,{children:[Object(s.jsx)(p.c,{md:"6",className:"new-card",children:Object(s.jsxs)("form",{children:[Object(s.jsx)("p",{className:"h5 text-center mb-4",children:"Book Ticket"}),Object(s.jsxs)("div",{className:"grey-text",children:[Object(s.jsx)(p.g,{label:"Name",icon:"address-book",group:!0,type:"text",validate:!0,error:"wrong",required:!0,success:"right",value:this.state.currentItem.name,placeholder:"Enter Name",onChange:function(t){e.setState({currentItem:{unique_id:e.state.currentItem.unique_id,name:t.target.value,phonenumber:e.state.currentItem.phonenumber,time:e.state.currentItem.time}}),console.log(e.state)}}),Object(s.jsx)(p.g,{label:"Phone number ",icon:"phone",group:!0,type:"phone",value:this.state.currentItem.phonenumber,placeholder:"Enter phone",onChange:function(t){e.setState({currentItem:{name:e.state.currentItem.name,unique_id:e.state.currentItem.unique_id,phonenumber:t.target.value,time:e.state.currentItem.time}}),console.log(e.state)}}),Object(s.jsx)(p.g,{label:"Seat no.",icon:"envelope",group:!0,type:"text",validate:!0,error:"wrong",success:"right",value:this.state.currentItem.unique_id,placeholder:"Enter unique id ",onChange:function(t){e.setState({currentItem:{unique_id:t.target.value,name:e.state.currentItem.name,phonenumber:e.state.currentItem.phonenumber,time:e.state.currentItem.time}}),console.log(e.state)}}),Object(s.jsx)(j.a,{value:this.state.currentItem.time,onChange:this.handleChange,timeFormat:!0,closeOnSelect:!0,inputProps:{placeholder:"Select timings of show"}}),"Selected timings :"," ",this.state.currentItem.time?this.state.currentItem.time.toString():"No selected date",console.log("tien is",this.state.currentItem.time)]}),Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)(p.b,{onClick:this.handleSubmit,children:"Submit"})})]})}),Object(s.jsxs)(p.c,{md:"6",className:"new-card",children:[Object(s.jsxs)("form",{children:[Object(s.jsx)("p",{className:"h5 text-center mb-4",children:"Delete Ticket"}),Object(s.jsx)("div",{className:"grey-text",children:Object(s.jsx)(p.g,{label:"Unique Id",icon:"id-card-alt",group:!0,type:"text",validate:!0,error:"wrong",required:!0,success:"right",value:this.state.tempId,placeholder:"Enter Unique Id ",onChange:function(t){e.setState({tempId:t.target.value}),console.log(e.state)}})}),Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)(p.b,{color:"danger",onClick:this.handleDelete,children:"Delete"})})]}),Object(s.jsx)(p.j,{children:Object(s.jsx)(p.c,{children:Object(s.jsxs)("form",{children:[Object(s.jsx)("p",{className:"h5 text-center mb-4",children:"Update Ticket Timings"}),Object(s.jsxs)("div",{className:"grey-text",children:[Object(s.jsx)(j.a,{value:this.state.previousTime,onChange:this.handleChangePrev,timeFormat:!0,closeOnSelect:!0,inputProps:{placeholder:"Select previous time"}}),"Selected timings :"," ",this.state.previousTime?this.state.previousTime.toString():"No selected date",console.log("previous time is",this.state.previousTime)]}),Object(s.jsxs)("div",{className:"grey-text",children:[Object(s.jsx)(j.a,{value:this.state.updatedTime,onChange:this.handleChangeUpdated,timeFormat:!0,closeOnSelect:!0,inputProps:{placeholder:"Select updated time"}}),"Selected timings :"," ",this.state.updatedTime?this.state.updatedTime.toString():"No selected date",console.log("updated time is",this.state.updatedTime)]}),Object(s.jsx)("div",{className:"text-center",children:Object(s.jsx)(p.b,{color:"primary",onClick:this.handleUpdateTime,children:"Update"})})]})})})]})]}),Object(s.jsx)(p.j,{children:Object(s.jsx)(p.c,{children:Object(s.jsx)(p.e,{className:"tablee",striped:!0,bordered:!0,small:!0,data:t})})})]})]})}}]),n}(i.a.Component),O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),i(e),r(e)}))};c.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(v,{})}),document.getElementById("root")),O()}},[[81,1,2]]]);
//# sourceMappingURL=main.ccf9048f.chunk.js.map